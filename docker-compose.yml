version: '3.9'
services:
  bot:
    build: .
    environment:
      BOT_TOKEN: ${BOT_TOKEN}
      BOT_USERNAME: ${BOT_USERNAME}
      STORAGE: ${STORAGE:-sqlite}
      DB_PATH: ${DB_PATH:-/data/bot.db}
      SPREADSHEET_ID: ${SPREADSHEET_ID}
      GOOGLE_APPLICATION_CREDENTIALS: /secrets/sa.json
      AUDIT_GROUP_ID: ${AUDIT_GROUP_ID}
      ADMIN_TELEGRAM_ID: ${ADMIN_TELEGRAM_ID}
      TZ: ${TZ:-Europe/Kyiv}
    volumes:
      - ./secrets/sa.json:/secrets/sa.json:ro
      - bot-data:/data
    restart: unless-stopped

volumes:
  bot-data:
